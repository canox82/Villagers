(this.webpackJsonpvillagers=this.webpackJsonpvillagers||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var o=s(1),n=s.n(o),a=s(8),r=s.n(a),i=(s(13),s(6)),c=s(2),l=s(3),h=s(5),u=s(4),d=(s(14),s(0)),j=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("span",{children:[Object(d.jsx)("h5",{children:"Raw materials consumed"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"1 food X villager every day"}),Object(d.jsx)("li",{children:"2 wood X house every 10 days"}),Object(d.jsx)("li",{children:"5 wood X house every 30 days"})]})]})}}]),s}(n.a.Component),p=[""],b=0,f=0,O=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"putMessage",value:function(e){p.unshift(e)}},{key:"cooldown",value:function(e,t){return this.props.day>e?this.props.hours+(24-t):this.props.hours-t}},{key:"searchRaw",value:function(e){var t=Math.floor(3*Math.random())+0;this.props.parentSearchRaw(e,t),this.putMessage("Gathered "+t+" "+e),b=this.props.day,f=this.props.hours}},{key:"render",value:function(){var e=this,t=this.props.food<=this.props.villagers,s=this.props.wood>=20&&this.props.stone>=20,o=this.props.wood>=40&&this.props.stone>=40,n=this.props.wood>=80&&this.props.stone>=80,a=this.props.wood>=150&&this.props.stone>=100,r=this.props.wood>=200&&this.props.stone>=200,i=this.cooldown(b,f)>2;return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)(j,{}),Object(d.jsx)("h5",{children:"Messages:"}),Object(d.jsx)("div",{className:"messages",children:Object(d.jsx)("ul",{children:p.map((function(e,t){return Object(d.jsx)("li",{children:e},t)}))})})]}),Object(d.jsxs)("div",{className:"action",children:[t?Object(d.jsx)("span",{style:{color:"red"},children:"Food Level critic!!!"}):Object(d.jsx)("span",{style:{color:"green"},children:"Food ok"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:!i,onClick:function(){return e.searchRaw("food")},children:"Search Food"}),Object(d.jsx)("button",{disabled:!i,onClick:function(){return e.searchRaw("wood")},children:"Search Wood"}),Object(d.jsx)("button",{disabled:!i,onClick:function(){return e.searchRaw("stone")},children:"Search Stone"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:!s,onClick:function(){return e.putMessage("house")},children:"Build House"}),Object(d.jsx)("button",{disabled:!o,onClick:function(){return e.putMessage("farm")},children:"Build Farm"}),Object(d.jsx)("button",{disabled:!n,onClick:function(){return e.putMessage("sawmill")},children:"Build Sawmill"}),Object(d.jsx)("button",{disabled:!a,onClick:function(){return e.putMessage("stone mine")},children:"Build Stone Mine"}),Object(d.jsx)("button",{disabled:!r,onClick:function(){return e.putMessage("gold mine")},children:"Build Gold Mine"})]})]})}}]),s}(n.a.Component),v=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsxs)("span",{children:["D: ",this.props.day]})," ",Object(d.jsxs)("span",{children:["H: ",this.props.hours," / VILLAGERS: ",this.props.villagers]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Food: ",this.props.food]})," ",Object(d.jsxs)("span",{children:[" / Wood: ",this.props.wood," / Stone: ",this.props.stone," / Gold: ",this.props.gold]})]})}}]),s}(n.a.Component),m=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(e){var o;Object(c.a)(this,s),(o=t.call(this,e)).people=Math.floor(4*Math.random()+2),o.updateRaw=function(e,t){console.log(e,t),"food"===e?o.setState({food:o.state.food+t}):"wood"===e?o.setState({wood:o.state.wood+t}):"stone"===e&&o.setState({stone:o.state.stone+t})};var n=JSON.parse(localStorage.getItem("VillagersSave"));return o.state=null!==n?n:{day:0,hours:0,villagers:o.people,food:Math.floor(Math.random()*(7*o.people-2*o.people+1))+2*o.people,wood:Math.floor(31*Math.random())+20,stone:Math.floor(31*Math.random())+20,gold:Math.floor(31*Math.random())+20},o}return Object(l.a)(s,[{key:"tick",value:function(){this.state.food>=this.state.villagers?(this.setState((function(e){return{hours:e.hours+1}})),this.state.hours>23&&this.setState({food:this.state.food-this.state.villagers,day:this.state.day+1,hours:0})):this.state.food>0&&(this.setState((function(e){return{hours:e.hours+1}})),24===this.state.hours&&this.setState({food:0}))}},{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"saveGame",value:function(){console.log("save",this.state),localStorage.setItem("VillagersSave",JSON.stringify(this.state))}},{key:"newGame",value:function(){console.log("new"),localStorage.removeItem("VillagersSave")}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Villagers"}),Object(d.jsx)("button",{onClick:function(){return e.saveGame()},children:"Save Game"}),Object(d.jsx)("button",{onClick:function(){return e.newGame()},children:"New Game"}),Object(d.jsx)(v,Object(i.a)({},this.state)),Object(d.jsx)(O,Object(i.a)(Object(i.a)({},this.state),{},{parentSearchRaw:this.updateRaw}))]})}}]),s}(n.a.Component),x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,17)).then((function(t){var s=t.getCLS,o=t.getFID,n=t.getFCP,a=t.getLCP,r=t.getTTFB;s(e),o(e),n(e),a(e),r(e)}))};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(m,{})}),document.getElementById("root")),x()}},[[16,1,2]]]);
//# sourceMappingURL=main.45b56bc4.chunk.js.map