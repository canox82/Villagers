(this.webpackJsonpvillagers=this.webpackJsonpvillagers||[]).push([[0],{13:function(t,e,s){},14:function(t,e,s){},16:function(t,e,s){"use strict";s.r(e);var o=s(1),r=s.n(o),n=s(8),i=s.n(n),a=(s(13),s(6)),c=s(2),l=s(3),h=s(5),u=s(4),d=(s(14),s(0)),p=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("span",{children:[Object(d.jsx)("h5",{children:"Raw materials consumed"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"1 food X villager every day"}),Object(d.jsx)("li",{children:"2 wood X house every 10 days"}),Object(d.jsx)("li",{children:"5 wood X house every 30 days"})]})]})}}]),s}(r.a.Component),j=[""],b=0,f=0,O=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"putMessage",value:function(t){j.unshift(t)}},{key:"cooldown",value:function(t,e){return this.props.day>t?this.props.hours+(24-e):this.props.hours-e}},{key:"searchRaw",value:function(t){var e=Math.floor(Math.random()*(this.props.villagers-this.props.workers-0+1))+0;this.props.parentSearchRaw(t,e),this.putMessage("Gathered "+e+" "+t),b=this.props.day,f=this.props.hours}},{key:"buildStructure",value:function(t){switch(t){case"house":this.putMessage("House builded, 4 villagers arrived"),this.props.parentBuildStructure(t);break;case"farm":this.putMessage("Farm builded, 1 worker used"),this.props.parentBuildStructure(t);break;default:this.putMessage("Building not implemented")}}},{key:"render",value:function(){var t=this,e=this.props.food<=this.props.villagers,s=this.props.wood>=20&&this.props.stone>=20,o=this.props.wood>=40&&this.props.stone>=40&&this.props.villagers-this.props.workers>0,r=this.props.wood>=80&&this.props.stone>=80&&this.props.villagers-this.props.workers>0,n=this.props.wood>=150&&this.props.stone>=100&&this.props.villagers-this.props.workers>0,i=this.props.wood>=200&&this.props.stone>=200&&this.props.villagers-this.props.workers>0,a=this.cooldown(b,f)>2;return Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"info",children:[Object(d.jsx)(p,{}),Object(d.jsx)("h5",{children:"Messages:"}),Object(d.jsx)("div",{className:"messages",children:Object(d.jsx)("ul",{children:j.map((function(t,e){return Object(d.jsx)("li",{children:t},e)}))})})]}),Object(d.jsxs)("div",{className:"action",children:[e?Object(d.jsx)("span",{style:{color:"red"},children:"Food Level critic!!!"}):Object(d.jsx)("span",{style:{color:"green"},children:"Food ok"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:!a,onClick:function(){return t.searchRaw("food")},children:"Search Food"}),Object(d.jsx)("button",{disabled:!a,onClick:function(){return t.searchRaw("wood")},children:"Search Wood"}),Object(d.jsx)("button",{disabled:!a,onClick:function(){return t.searchRaw("stone")},children:"Search Stone"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{disabled:!s,onClick:function(){return t.buildStructure("house")},children:"Build House"}),Object(d.jsx)("button",{disabled:!o,onClick:function(){return t.buildStructure("farm")},children:"Build Farm"}),Object(d.jsx)("button",{disabled:!r,onClick:function(){return t.buildStructure("sawmill")},children:"Build Sawmill"}),Object(d.jsx)("button",{disabled:!n,onClick:function(){return t.buildStructure("stoneMine")},children:"Build Stone Mine"}),Object(d.jsx)("button",{disabled:!i,onClick:function(){return t.buildStructure("goldMine")},children:"Build Gold Mine"})]})]})}}]),s}(r.a.Component),v=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(){return Object(c.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(d.jsxs)("div",{className:"nav",children:[Object(d.jsxs)("span",{children:["D: ",this.props.day]})," ",Object(d.jsxs)("span",{children:["H: ",this.props.hours," / VILLAGERS: ",this.props.villagers]}),Object(d.jsxs)("span",{children:[" / WORKERS: ",this.props.workers]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Food: ",this.props.food]})," ",Object(d.jsxs)("span",{children:[" / Wood: ",this.props.wood," / Stone: ",this.props.stone," / Gold: ",this.props.gold]}),Object(d.jsx)("br",{}),Object(d.jsxs)("span",{children:["Houses : ",this.props.house]})," / ",Object(d.jsxs)("span",{children:["Farm : ",this.props.farm]})," / ",Object(d.jsxs)("span",{children:["Sawmill : ",this.props.sawmill]})," / ",Object(d.jsxs)("span",{children:["Stone Mine : ",this.props.stoneMine]})," / ",Object(d.jsxs)("span",{children:["Gold Mine : ",this.props.goldMine]}),Object(d.jsx)("br",{})]})}}]),s}(r.a.Component),w=function(t){Object(h.a)(s,t);var e=Object(u.a)(s);function s(t){var o;Object(c.a)(this,s),(o=e.call(this,t)).people=Math.floor(4*Math.random()+2),o.updateRaw=function(t,e){"food"===t?o.setState({food:o.state.food+e}):"wood"===t?o.setState({wood:o.state.wood+e}):"stone"===t&&o.setState({stone:o.state.stone+e})},o.updateStructure=function(t){switch(t){case"house":o.setState({house:o.state.house+1,villagers:o.state.villagers+4,wood:o.state.wood-20,stone:o.state.stone-20});break;case"farm":o.setState({farm:o.state.farm+1,workers:o.state.workers+1,wood:o.state.wood-40,stone:o.state.stone-40})}};var r=JSON.parse(localStorage.getItem("VillagersSave"));return o.state=null!==r?r:{day:0,hours:0,villagers:o.people,workers:0,food:Math.floor(Math.random()*(7*o.people-2*o.people+1))+2*o.people,wood:Math.floor(31*Math.random())+20,stone:Math.floor(31*Math.random())+20,gold:Math.floor(31*Math.random())+20,house:0,farm:0,sawmill:0,stoneMine:0,goldMine:0},o}return Object(l.a)(s,[{key:"tick",value:function(){if(this.state.food>=this.state.villagers){if(this.setState((function(t){return{hours:t.hours+1}})),this.state.hours>23){this.setState({food:this.state.food-this.state.villagers,day:this.state.day+1,hours:0});var t=this.state.house+this.state.farm+this.state.sawmill+this.state.stoneMine+this.state.goldMine;this.state.wood>=t&&this.setState({wood:this.state.wood-t})}}else this.state.food>0&&(this.setState((function(t){return{hours:t.hours+1}})),24===this.state.hours&&this.setState({food:0}));this.state.day%7===0&&0===this.state.hours&&this.state.wood>0&&this.setState({food:this.state.food+20*this.state.farm})}},{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"saveGame",value:function(){console.log("save",this.state),localStorage.setItem("VillagersSave",JSON.stringify(this.state))}},{key:"newGame",value:function(){console.log("new"),localStorage.removeItem("VillagersSave")}},{key:"render",value:function(){var t=this;return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h1",{children:"Villagers"}),Object(d.jsx)("button",{onClick:function(){return t.saveGame()},children:"Save Game"}),Object(d.jsx)("button",{onClick:function(){return t.newGame()},children:"New Game"}),Object(d.jsx)(v,Object(a.a)({},this.state)),Object(d.jsx)(O,Object(a.a)(Object(a.a)({},this.state),{},{parentSearchRaw:this.updateRaw,parentBuildStructure:this.updateStructure}))]})}}]),s}(r.a.Component),m=function(t){t&&t instanceof Function&&s.e(3).then(s.bind(null,17)).then((function(e){var s=e.getCLS,o=e.getFID,r=e.getFCP,n=e.getLCP,i=e.getTTFB;s(t),o(t),r(t),n(t),i(t)}))};i.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(w,{})}),document.getElementById("root")),m()}},[[16,1,2]]]);
//# sourceMappingURL=main.d3c26884.chunk.js.map